<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Page 3 - Day Reset</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <script>
    let dayImg;

    function preload() {
      // Updated to use the new image
      dayImg = loadImage('img/rain.background.jpg');
    }

    function setup() {
      createCanvas(windowWidth, windowHeight);
      imageMode(CENTER); // Center the background image
      textFont('absans');
      textSize(40);
      textAlign(CENTER, CENTER);
    }

    function draw() {
      // Draw background image, scaled to cover the entire canvas proportionally
      let canvasRatio = width / height;
      let imgRatio = dayImg.width / dayImg.height;
      let drawWidth, drawHeight;

      if (canvasRatio > imgRatio) {
        drawWidth = width;
        drawHeight = width / imgRatio;
      } else {
        drawHeight = height;
        drawWidth = height * imgRatio;
      }

      image(dayImg, width / 2, height / 2, drawWidth, drawHeight);

      let x = mouseX;
      let y = mouseY;
      let ix = width - mouseX;
      let iy = height - mouseY;

      fill(30, 30, 30);

      text("I have so loved the rain", x, height / 2 - 30);
      text("that I would hold", ix, height / 2 + 30);
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }
  </script>
</head>
<body style="margin:0; padding:0; overflow:hidden;"></body>
</html>
